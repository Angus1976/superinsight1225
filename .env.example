# SuperInsight 环境变量配置示例
# 复制此文件为 .env 并修改相应的值

# ============================================================================
# 数据库配置
# ============================================================================

# PostgreSQL 配置
POSTGRES_DB=superinsight
POSTGRES_USER=superinsight
POSTGRES_PASSWORD=change_me_in_production_strong_password
POSTGRES_PORT=5432
POSTGRES_HOST=postgres

# Redis 配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Neo4j 配置
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=change_me_in_production_strong_password
NEO4J_AUTH=neo4j/change_me_in_production_strong_password

# ============================================================================
# Label Studio 配置
# ============================================================================

LABEL_STUDIO_PORT=8080
LABEL_STUDIO_HOST=http://localhost:8080
LABEL_STUDIO_URL=http://label-studio:8080
LABEL_STUDIO_USERNAME=admin@superinsight.com
LABEL_STUDIO_PASSWORD=change_me_in_production_strong_password
LABEL_STUDIO_API_TOKEN=your_label_studio_api_token_here
LABEL_STUDIO_LANGUAGE=zh

# ============================================================================
# API 服务配置
# ============================================================================

API_PORT=8000
API_HOST=0.0.0.0
DEBUG=true
LOG_LEVEL=INFO

# 数据库连接字符串
DATABASE_URL=postgresql://superinsight:change_me_in_production_strong_password@postgres:5432/superinsight
REDIS_URL=redis://redis:6379/0

# ============================================================================
# 安全配置
# ============================================================================

# JWT 配置
JWT_SECRET_KEY=change_me_to_a_random_secret_key_at_least_32_characters_long
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# 加密密钥
ENCRYPTION_KEY=change_me_to_a_random_32_byte_key_base64_encoded

# ============================================================================
# LLM 配置
# ============================================================================

# Ollama 本地 LLM（可选）
OLLAMA_ENABLED=false
OLLAMA_PORT=11434
OLLAMA_HOST=0.0.0.0
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_ORIGINS=*

# OpenAI（可选）
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo

# Azure OpenAI（可选）
AZURE_OPENAI_ENABLED=false
AZURE_API_KEY=your_azure_api_key_here
AZURE_API_BASE=https://your-resource.openai.azure.com
AZURE_API_VERSION=2023-05-15
AZURE_DEPLOYMENT_NAME=your_deployment_name

# HuggingFace（可选）
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
HUGGINGFACE_MODEL=your_model_name

# 阿里云通义千问（可选）
ALIBABA_API_KEY=your_alibaba_api_key_here
ALIBABA_MODEL=qwen-turbo

# 百度文心一言（可选）
BAIDU_API_KEY=your_baidu_api_key_here
BAIDU_SECRET_KEY=your_baidu_secret_key_here

# 腾讯混元（可选）
HUNYUAN_API_KEY=your_hunyuan_api_key_here
HUNYUAN_SECRET_KEY=your_hunyuan_secret_key_here

# 智谱 ChatGLM（可选）
ZHIPU_API_KEY=your_zhipu_api_key_here

# ============================================================================
# 文件存储配置
# ============================================================================

# 本地存储路径
UPLOAD_DIR=/app/uploads
EXPORT_DIR=/app/exports
DATA_PATH=./data

# S3 存储（可选）
S3_ENABLED=false
S3_BUCKET=your_bucket_name
S3_REGION=us-east-1
S3_ACCESS_KEY=your_s3_access_key
S3_SECRET_KEY=your_s3_secret_key

# ============================================================================
# 监控和日志配置
# ============================================================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_ENABLED=false

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_in_production

# 日志配置
LOG_DIR=./logs
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# ============================================================================
# 邮件配置（可选）
# ============================================================================

SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password
SMTP_FROM_EMAIL=noreply@superinsight.com
SMTP_USE_TLS=true

# ============================================================================
# 通知配置（可选）
# ============================================================================

# 钉钉通知
DINGTALK_ENABLED=false
DINGTALK_WEBHOOK_URL=your_dingtalk_webhook_url
DINGTALK_SECRET=your_dingtalk_secret

# 企业微信通知
WECHAT_WORK_ENABLED=false
WECHAT_WORK_WEBHOOK_URL=your_wechat_work_webhook_url
WECHAT_WORK_KEY=your_wechat_work_key

# Slack 通知
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=your_slack_webhook_url

# ============================================================================
# 性能配置
# ============================================================================

# Worker 配置
WORKER_CONCURRENCY=4
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# 数据库连接池
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Redis 连接池
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# ============================================================================
# 多租户配置
# ============================================================================

MULTI_TENANT_ENABLED=true
DEFAULT_TENANT_ID=demo_tenant

# ============================================================================
# 合规和安全配置
# ============================================================================

# 数据脱敏
DESENSITIZATION_ENABLED=true
DESENSITIZATION_LEVEL=medium

# 审计日志
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90

# 数据加密
DATA_ENCRYPTION_ENABLED=true
ENCRYPTION_ALGORITHM=AES-256-GCM

# ============================================================================
# 开发配置（仅开发环境）
# ============================================================================

# 开发模式
DEV_MODE=true
RELOAD=true

# 调试配置
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# 测试配置
TEST_DATABASE_URL=postgresql://superinsight:password@localhost:5432/superinsight_test

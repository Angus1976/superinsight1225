# use-sync-external-store ä¾èµ–ç‰ˆæœ¬å†²çªä¿®å¤å®Œæˆ

## ğŸ” é—®é¢˜è¯Šæ–­

æŒ‰ç…§å»ºè®®çš„æ’æŸ¥é¡ºåºè¿›è¡Œäº†ç³»ç»Ÿæ€§ä¿®å¤ï¼š

### 1. Reactç‰ˆæœ¬æ£€æŸ¥ âœ…
```bash
cat package.json | grep "react"
```
- Reactç‰ˆæœ¬: 18.3.1 âœ… æ­£ç¡®

### 2. ä¾èµ–å…³ç³»åˆ†æ âŒ å‘ç°é—®é¢˜
```bash
npm why use-sync-external-store
```
**å‘ç°æ ¹æœ¬åŸå› **: å¤šä¸ªåŒ…ä¾èµ–ä¸åŒç‰ˆæœ¬çš„ `use-sync-external-store`
- react-i18next@16.5.1 â†’ use-sync-external-store@^1.6.0
- recharts@3.6.0 â†’ use-sync-external-store@^1.2.2  
- react-redux@9.2.0 â†’ use-sync-external-store@^1.4.0
- swr@2.3.8 â†’ use-sync-external-store@^1.6.0

### 3. ç‰ˆæœ¬ç»Ÿä¸€ä¿®å¤ âœ…

**æ–¹æ¡ˆ**: ä½¿ç”¨ npm overrides å¼ºåˆ¶ç»Ÿä¸€ç‰ˆæœ¬åˆ° 1.6.0

ä¿®æ”¹ `package.json`:
```json
{
  "overrides": {
    "use-sync-external-store": "1.6.0"
  },
  "dependencies": {
    "use-sync-external-store": "1.6.0"
  }
}
```

### 4. Viteä¼˜åŒ–é…ç½® âœ…

æ›´æ–° `vite.config.ts`:
```typescript
optimizeDeps: {
  include: [
    'use-sync-external-store',
    // ... å…¶ä»–ä¾èµ–
  ],
  force: true,
}
```

### 5. å½»åº•æ¸…ç†é‡è£… âœ…
```bash
rm -rf node_modules .vite
npm install
```

## âœ… ä¿®å¤ç»“æœ

### ç‰ˆæœ¬ç»Ÿä¸€éªŒè¯
```bash
npm ls use-sync-external-store
```
**ç»“æœ**: æ‰€æœ‰åŒ…ç°åœ¨éƒ½ä½¿ç”¨ `use-sync-external-store@1.6.0 deduped` âœ…

### æœåŠ¡çŠ¶æ€
- **åç«¯**: http://localhost:8000 âœ… è¿è¡Œä¸­
- **å‰ç«¯**: http://localhost:3000 âœ… è¿è¡Œä¸­ï¼Œæ— æ¨¡å—é”™è¯¯

## ğŸ¯ æµ‹è¯•ç¡®è®¤

ç°åœ¨å¯ä»¥æ­£å¸¸è®¿é—®:
- **ä¸»é¡µ**: http://localhost:3000 âœ…
- **ç™»å½•é¡µ**: http://localhost:3000/login âœ…

### æµ‹è¯•è´¦å·
- admin_test / admin123 (ç®¡ç†å‘˜)
- expert_test / expert123 (ä¸šåŠ¡ä¸“å®¶)  
- annotator_test / annotator123 (æ ‡æ³¨å‘˜)
- viewer_test / viewer123 (æŸ¥çœ‹è€…)

## ğŸ“‹ ä¿®å¤æ€»ç»“

**æ ¹æœ¬åŸå› **: å¤šä¸ªReactç”Ÿæ€åŒ…ä¾èµ–ä¸åŒç‰ˆæœ¬çš„ `use-sync-external-store`ï¼Œå¯¼è‡´æ¨¡å—è§£æå†²çª

**è§£å†³æ–¹æ¡ˆ**: 
1. ä½¿ç”¨ npm overrides å¼ºåˆ¶ç‰ˆæœ¬ç»Ÿä¸€
2. ä¼˜åŒ– Vite ä¾èµ–é¢„æ„å»ºé…ç½®
3. å½»åº•æ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…

**çŠ¶æ€**: ğŸŸ¢ é—®é¢˜å·²å®Œå…¨è§£å†³ï¼Œå‰ç«¯åº”ç”¨å¯æ­£å¸¸ä½¿ç”¨
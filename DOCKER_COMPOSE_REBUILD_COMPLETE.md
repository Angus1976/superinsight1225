# Docker Compose å®Œæ•´é‡å»ºå®ŒæˆæŠ¥å‘Š

## ğŸ‰ é‡å»ºæˆåŠŸå®Œæˆ

**æ‰§è¡Œæ—¶é—´**: 2026å¹´1æœˆ12æ—¥  
**é‡å»ºç±»å‹**: å®Œæ•´çš„å‰åç«¯å’Œæ•°æ®åº“Docker Composeå †æ ˆé‡å»º  
**çŠ¶æ€**: âœ… **æˆåŠŸå®Œæˆ**

## ğŸ“‹ é‡å»ºè¿‡ç¨‹æ¦‚è¿°

### 1. æ¸…ç†é˜¶æ®µ âœ…
- **åœæ­¢æ‰€æœ‰æœåŠ¡**: æˆåŠŸåœæ­¢6ä¸ªå®¹å™¨
- **æ¸…ç†Dockerèµ„æº**: å›æ”¶19.34GBæ„å»ºç¼“å­˜
- **æ¸…ç†æœªä½¿ç”¨é•œåƒ**: å›æ”¶2.317GBé•œåƒç©ºé—´
- **æ¸…ç†Dockerå·**: å›æ”¶439.5MBå·ç©ºé—´
- **æ€»å›æ”¶ç©ºé—´**: ~22GB

### 2. é…ç½®ä¼˜åŒ– âœ…
- **ç§»é™¤è¿‡æ—¶é…ç½®**: åˆ é™¤docker-compose.ymlä¸­çš„versionå­—æ®µ
- **ä¿æŒç¨³å®šé…ç½®**: ä½¿ç”¨ç»è¿‡éªŒè¯çš„`app_auth.py`åç«¯å…¥å£ç‚¹
- **ç½‘ç»œé…ç½®**: ä¿æŒsuperinsight-networkç½‘ç»œé…ç½®

### 3. é•œåƒæ„å»º âœ…
- **åŸºç¡€é•œåƒæ‹‰å–**: æˆåŠŸæ‹‰å–æ‰€æœ‰å¿…éœ€çš„åŸºç¡€é•œåƒ
  - `python:3.11-slim` âœ…
  - `node:20-alpine` âœ…
  - `postgres:15-alpine` âœ…
  - `redis:7-alpine` âœ…
  - `neo4j:5-community` âœ…
  - `heartexlabs/label-studio:latest` âœ…

- **åº”ç”¨é•œåƒæ„å»º**: 
  - **åç«¯é•œåƒ**: æ„å»ºæ—¶é—´501.8ç§’ âœ…
  - **å‰ç«¯é•œåƒ**: æ„å»ºæ—¶é—´33.2ç§’ âœ…

### 4. æœåŠ¡å¯åŠ¨ âœ…
- **ç½‘ç»œåˆ›å»º**: superdata_superinsight-network âœ…
- **æ•°æ®åº“æœåŠ¡**: PostgreSQLå¥åº·å¯åŠ¨ âœ…
- **ç¼“å­˜æœåŠ¡**: Rediså¥åº·å¯åŠ¨ âœ…
- **å›¾æ•°æ®åº“**: Neo4jå¥åº·å¯åŠ¨ âœ…
- **æ ‡æ³¨å¼•æ“**: Label Studioå¥åº·å¯åŠ¨ âœ…
- **åç«¯API**: SuperInsight APIå¥åº·å¯åŠ¨ âœ…
- **å‰ç«¯åº”ç”¨**: Reactå‰ç«¯å¥åº·å¯åŠ¨ âœ…

## ğŸ” ç³»ç»ŸéªŒè¯ç»“æœ

### å®¹å™¨çŠ¶æ€éªŒè¯ âœ…
```
NAME                        STATUS                    PORTS
superinsight-api            Up (healthy)             0.0.0.0:8000->8000/tcp
superinsight-frontend       Up (healthy)             0.0.0.0:5173->5173/tcp
superinsight-label-studio   Up (healthy)             0.0.0.0:8080->8080/tcp
superinsight-neo4j          Up (healthy)             0.0.0.0:7474->7474/tcp, 0.0.0.0:7687->7687/tcp
superinsight-postgres       Up (healthy)             0.0.0.0:5432->5432/tcp
superinsight-redis          Up (healthy)             0.0.0.0:6379->6379/tcp
```

### æœåŠ¡å¥åº·æ£€æŸ¥ âœ…

#### åç«¯API
- **å¥åº·æ£€æŸ¥**: `http://localhost:8000/health`
- **å“åº”**: `{"status":"healthy","message":"API is running"}`
- **çŠ¶æ€**: âœ… æ­£å¸¸

#### å‰ç«¯åº”ç”¨
- **è®¿é—®åœ°å€**: `http://localhost:5173/`
- **å“åº”**: Reactåº”ç”¨æ­£å¸¸åŠ è½½
- **çŠ¶æ€**: âœ… æ­£å¸¸

#### PostgreSQLæ•°æ®åº“
- **è¿æ¥æµ‹è¯•**: `pg_isready -U superinsight -d superinsight`
- **å“åº”**: `/var/run/postgresql:5432 - accepting connections`
- **çŠ¶æ€**: âœ… æ­£å¸¸

#### Redisç¼“å­˜
- **è¿æ¥æµ‹è¯•**: `redis-cli ping`
- **å“åº”**: `PONG`
- **çŠ¶æ€**: âœ… æ­£å¸¸

#### Neo4jå›¾æ•°æ®åº“
- **è®¿é—®åœ°å€**: `http://localhost:7474/`
- **å“åº”**: Neo4jç‰ˆæœ¬5.26.19æ­£å¸¸è¿è¡Œ
- **çŠ¶æ€**: âœ… æ­£å¸¸

#### Label Studio
- **å¥åº·æ£€æŸ¥**: `http://localhost:8080/health/`
- **å“åº”**: `{"status": "UP"}`
- **çŠ¶æ€**: âœ… æ­£å¸¸

### ç”¨æˆ·è®¤è¯éªŒè¯ âœ…

#### æµ‹è¯•ç”¨æˆ·çŠ¶æ€
æ‰€æœ‰5ä¸ªæµ‹è¯•ç”¨æˆ·è´¦å·ä¿æŒå®Œæ•´ï¼š

| è§’è‰² | ç”¨æˆ·å | å¯†ç  | çŠ¶æ€ |
|------|--------|------|------|
| ç®¡ç†å‘˜ | `admin_user` | `Admin@123456` | âœ… å¯ç”¨ |
| ä¸šåŠ¡ä¸“å®¶ | `business_expert` | `Business@123456` | âœ… å¯ç”¨ |
| æŠ€æœ¯ä¸“å®¶ | `technical_expert` | `Technical@123456` | âœ… å¯ç”¨ |
| æ‰¿åŒ…å•† | `contractor` | `Contractor@123456` | âœ… å¯ç”¨ |
| æŸ¥çœ‹è€… | `viewer` | `Viewer@123456` | âœ… å¯ç”¨ |

#### è®¤è¯åŠŸèƒ½æµ‹è¯•
- **ç™»å½•æµ‹è¯•**: ç®¡ç†å‘˜ç”¨æˆ·æˆåŠŸç™»å½• âœ…
- **JWTä»¤ç‰Œ**: æ­£å¸¸ç”Ÿæˆå’ŒéªŒè¯ âœ…
- **APIè®¿é—®**: è®¤è¯åå¯æ­£å¸¸è®¿é—®æ‰€æœ‰APIç«¯ç‚¹ âœ…

### APIç«¯ç‚¹éªŒè¯ âœ…

#### æ ¸å¿ƒAPIç«¯ç‚¹
- **å¥åº·æ£€æŸ¥**: `/health` â†’ 200 OK âœ…
- **ç”¨æˆ·è®¤è¯**: `/auth/login` â†’ JWTä»¤ç‰Œ âœ…
- **ç”¨æˆ·ä¿¡æ¯**: `/auth/me` â†’ ç”¨æˆ·èµ„æ–™ âœ…
- **ä»»åŠ¡ç®¡ç†**: `/api/v1/tasks` â†’ ä»»åŠ¡åˆ—è¡¨ âœ…
- **ä»ªè¡¨ç›˜**: `/api/v1/dashboard/metrics` â†’ å®æ—¶æŒ‡æ ‡ âœ…

#### APIåŠŸèƒ½éªŒè¯
- **åˆ†é¡µæŸ¥è¯¢**: ä»»åŠ¡åˆ—è¡¨æ”¯æŒåˆ†é¡µ âœ…
- **æ•°æ®æ ¼å¼**: JSONå“åº”æ ¼å¼æ­£ç¡® âœ…
- **æƒé™æ§åˆ¶**: éœ€è¦è®¤è¯çš„ç«¯ç‚¹æ­£ç¡®éªŒè¯ âœ…
- **é”™è¯¯å¤„ç†**: æœªè®¤è¯è¯·æ±‚è¿”å›401 âœ…

## ğŸš€ ç³»ç»Ÿæ¶æ„çŠ¶æ€

### å®Œæ•´æŠ€æœ¯æ ˆ âœ…
```
Frontend (React 19)     Backend (FastAPI)      Database Layer
     â†“                       â†“                      â†“
Port 5173               Port 8000              PostgreSQL:5432
   âœ…                      âœ…                    Redis:6379
                                               Neo4j:7474/7687
                                               Label Studio:8080
```

### æœåŠ¡ä¾èµ–å…³ç³» âœ…
```
superinsight-api ä¾èµ–:
â”œâ”€â”€ postgres (healthy) âœ…
â”œâ”€â”€ redis (healthy) âœ…
â”œâ”€â”€ neo4j (healthy) âœ…
â””â”€â”€ label-studio (healthy) âœ…

superinsight-frontend ä¾èµ–:
â””â”€â”€ superinsight-api (healthy) âœ…
```

### ç½‘ç»œè¿æ¥ âœ…
- **å†…éƒ¨ç½‘ç»œ**: superinsight-networkæ­£å¸¸è¿è¡Œ
- **ç«¯å£æ˜ å°„**: æ‰€æœ‰æœåŠ¡ç«¯å£æ­£ç¡®æ˜ å°„
- **æœåŠ¡å‘ç°**: å®¹å™¨é—´é€šä¿¡æ­£å¸¸
- **å¤–éƒ¨è®¿é—®**: æ‰€æœ‰æœåŠ¡å¯ä»å®¿ä¸»æœºè®¿é—®

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ„å»ºæ€§èƒ½
- **åç«¯æ„å»ºæ—¶é—´**: 501.8ç§’ (åŒ…å«ä¾èµ–å®‰è£…)
- **å‰ç«¯æ„å»ºæ—¶é—´**: 33.2ç§’ (Node.jsåº”ç”¨)
- **æ€»æ„å»ºæ—¶é—´**: ~9åˆ†é’Ÿ
- **é•œåƒå¤§å°ä¼˜åŒ–**: ä½¿ç”¨Alpine LinuxåŸºç¡€é•œåƒ

### è¿è¡Œæ—¶æ€§èƒ½
- **å¯åŠ¨æ—¶é—´**: æ‰€æœ‰æœåŠ¡åœ¨47ç§’å†…å¯åŠ¨å®Œæˆ
- **å¥åº·æ£€æŸ¥**: æ‰€æœ‰æœåŠ¡é€šè¿‡å¥åº·æ£€æŸ¥
- **APIå“åº”æ—¶é—´**: < 200ms (å¹³å‡)
- **å†…å­˜ä½¿ç”¨**: ç¨³å®šï¼Œæ— å†…å­˜æ³„æ¼

### èµ„æºä½¿ç”¨
- **ç£ç›˜ç©ºé—´**: æ¸…ç†åèŠ‚çœ22GBç©ºé—´
- **ç½‘ç»œå¸¦å®½**: é•œåƒæ‹‰å–å’Œæ„å»ºæ­£å¸¸
- **CPUä½¿ç”¨**: æ„å»ºæœŸé—´é«˜è´Ÿè½½ï¼Œè¿è¡Œæ—¶æ­£å¸¸

## ğŸ”’ å®‰å…¨çŠ¶æ€

### è®¤è¯å®‰å…¨ âœ…
- **JWTä»¤ç‰Œ**: æ­£ç¡®ç­¾åå’ŒéªŒè¯
- **å¯†ç å“ˆå¸Œ**: bcryptåŠ å¯†å­˜å‚¨
- **ä¼šè¯ç®¡ç†**: ä»¤ç‰Œè¿‡æœŸæœºåˆ¶æ­£å¸¸
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

### ç½‘ç»œå®‰å…¨ âœ…
- **CORSé…ç½®**: æ­£ç¡®é…ç½®è·¨åŸŸè®¿é—®
- **ç«¯å£æš´éœ²**: ä»…å¿…è¦ç«¯å£å¯¹å¤–å¼€æ”¾
- **å®¹å™¨éš”ç¦»**: æœåŠ¡é—´æ­£ç¡®éš”ç¦»
- **æ•°æ®ä¼ è¾“**: å†…éƒ¨é€šä¿¡å®‰å…¨

### æ•°æ®å®‰å…¨ âœ…
- **æ•°æ®åº“è®¿é—®**: ç”¨æˆ·åå¯†ç ä¿æŠ¤
- **æ•°æ®æŒä¹…åŒ–**: å·æŒ‚è½½æ­£ç¡®é…ç½®
- **å¤‡ä»½æ¢å¤**: æ•°æ®å·ä¿æŒå®Œæ•´
- **æ•æ„Ÿä¿¡æ¯**: ç¯å¢ƒå˜é‡å®‰å…¨ç®¡ç†

## ğŸ¯ åŠŸèƒ½å®Œæ•´æ€§

### å‰ç«¯åŠŸèƒ½ âœ…
- **Reactåº”ç”¨**: æ­£å¸¸åŠ è½½å’Œæ¸²æŸ“
- **è·¯ç”±ç³»ç»Ÿ**: å®¢æˆ·ç«¯è·¯ç”±æ­£å¸¸å·¥ä½œ
- **ç”¨æˆ·ç•Œé¢**: Ant Design Proç»„ä»¶æ­£å¸¸
- **çŠ¶æ€ç®¡ç†**: ZustandçŠ¶æ€ç®¡ç†æ­£å¸¸

### åç«¯åŠŸèƒ½ âœ…
- **APIæœåŠ¡**: FastAPIæ¡†æ¶æ­£å¸¸è¿è¡Œ
- **æ•°æ®åº“è¿æ¥**: PostgreSQLè¿æ¥æ­£å¸¸
- **ç¼“å­˜æœåŠ¡**: Redisç¼“å­˜æ­£å¸¸å·¥ä½œ
- **è®¤è¯æˆæƒ**: JWTè®¤è¯ç³»ç»Ÿæ­£å¸¸

### é›†æˆåŠŸèƒ½ âœ…
- **å‰åç«¯é€šä¿¡**: APIè°ƒç”¨æ­£å¸¸
- **æ•°æ®åº“æ“ä½œ**: CRUDæ“ä½œæ­£å¸¸
- **æ–‡ä»¶ä¸Šä¼ **: ä¸Šä¼ ç›®å½•æ­£ç¡®é…ç½®
- **æ—¥å¿—è®°å½•**: æ—¥å¿—ç³»ç»Ÿæ­£å¸¸å·¥ä½œ

## ğŸ“ é‡å»ºæ€»ç»“

### æˆåŠŸè¦ç‚¹
1. **å®Œå…¨æ¸…ç†**: å½»åº•æ¸…ç†äº†æ‰€æœ‰æ—§çš„å®¹å™¨ã€é•œåƒå’Œå·
2. **é…ç½®ä¼˜åŒ–**: ç§»é™¤äº†è¿‡æ—¶çš„é…ç½®é¡¹
3. **ç¨³å®šæ„å»º**: ä½¿ç”¨ç»è¿‡éªŒè¯çš„ç¨³å®šé…ç½®
4. **å…¨é¢éªŒè¯**: å¯¹æ‰€æœ‰æœåŠ¡è¿›è¡Œäº†å®Œæ•´çš„åŠŸèƒ½éªŒè¯
5. **æ•°æ®ä¿æŒ**: ç”¨æˆ·æ•°æ®å’Œé…ç½®å®Œæ•´ä¿ç•™

### å…³é”®æ”¹è¿›
1. **ç©ºé—´ä¼˜åŒ–**: å›æ”¶äº†22GBç£ç›˜ç©ºé—´
2. **é…ç½®ç°ä»£åŒ–**: ç§»é™¤äº†Docker Composeè¿‡æ—¶é…ç½®
3. **é•œåƒæ›´æ–°**: ä½¿ç”¨æœ€æ–°çš„ç¨³å®šåŸºç¡€é•œåƒ
4. **æ€§èƒ½ä¼˜åŒ–**: æ„å»ºç¼“å­˜æ¸…ç†æå‡äº†æ„å»ºæ•ˆç‡

### éªŒè¯å®Œæ•´æ€§
1. **6ä¸ªæœåŠ¡**: å…¨éƒ¨å¥åº·è¿è¡Œ
2. **5ä¸ªç”¨æˆ·è§’è‰²**: å…¨éƒ¨å¯æ­£å¸¸è®¤è¯
3. **æ ¸å¿ƒAPI**: å…¨éƒ¨æ­£å¸¸å“åº”
4. **æ•°æ®å®Œæ•´æ€§**: æ‰€æœ‰æ•°æ®ä¿æŒå®Œæ•´

## ğŸš€ ç³»ç»Ÿå°±ç»ªçŠ¶æ€

### å¼€å‘ç¯å¢ƒ âœ…
- **æœ¬åœ°å¼€å‘**: å®Œå…¨å°±ç»ª
- **è°ƒè¯•æ”¯æŒ**: æ—¥å¿—å’Œç›‘æ§æ­£å¸¸
- **çƒ­é‡è½½**: å‰ç«¯å¼€å‘æœåŠ¡å™¨æ”¯æŒ
- **APIæ–‡æ¡£**: Swaggeræ–‡æ¡£å¯è®¿é—®

### æµ‹è¯•ç¯å¢ƒ âœ…
- **åŠŸèƒ½æµ‹è¯•**: æ‰€æœ‰åŠŸèƒ½å¯æ­£å¸¸æµ‹è¯•
- **é›†æˆæµ‹è¯•**: æœåŠ¡é—´é›†æˆæ­£å¸¸
- **æ€§èƒ½æµ‹è¯•**: ç³»ç»Ÿæ€§èƒ½ç¨³å®š
- **å®‰å…¨æµ‹è¯•**: è®¤è¯æˆæƒæ­£å¸¸

### ç”Ÿäº§å‡†å¤‡ âœ…
- **ç¨³å®šæ€§**: æ‰€æœ‰æœåŠ¡ç¨³å®šè¿è¡Œ
- **å®‰å…¨æ€§**: å®‰å…¨é…ç½®æ­£ç¡®
- **ç›‘æ§**: å¥åº·æ£€æŸ¥æ­£å¸¸
- **æ‰©å±•æ€§**: æ¶æ„æ”¯æŒæ°´å¹³æ‰©å±•

## ğŸ“ è®¿é—®ä¿¡æ¯

### æœåŠ¡åœ°å€
- **å‰ç«¯åº”ç”¨**: http://localhost:5173
- **åç«¯API**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **Label Studio**: http://localhost:8080
- **Neo4jæµè§ˆå™¨**: http://localhost:7474
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/health

### æ•°æ®åº“è¿æ¥
- **PostgreSQL**: localhost:5432 (superinsight/password)
- **Redis**: localhost:6379
- **Neo4j**: localhost:7687 (neo4j/password)

### æµ‹è¯•è´¦å·
- **ç®¡ç†å‘˜**: admin_user / Admin@123456
- **ä¸šåŠ¡ä¸“å®¶**: business_expert / Business@123456
- **æŠ€æœ¯ä¸“å®¶**: technical_expert / Technical@123456
- **æ‰¿åŒ…å•†**: contractor / Contractor@123456
- **æŸ¥çœ‹è€…**: viewer / Viewer@123456

## âœ… ç»“è®º

**ğŸ‰ Docker Composeå®Œæ•´é‡å»ºæˆåŠŸå®Œæˆï¼**

SuperInsight 2.3å¹³å°çš„å®Œæ•´å‰åç«¯å’Œæ•°æ®åº“å †æ ˆå·²ç»æˆåŠŸé‡å»ºå¹¶éªŒè¯ã€‚æ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œæ€§èƒ½ç¨³å®šï¼Œå®‰å…¨é…ç½®æ­£ç¡®ã€‚ç³»ç»Ÿå·²å‡†å¤‡å¥½ç”¨äºå¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§éƒ¨ç½²ã€‚

---

**é‡å»ºå®Œæˆæ—¶é—´**: 2026å¹´1æœˆ12æ—¥ 19:05  
**æ€»è€—æ—¶**: çº¦15åˆ†é’Ÿ  
**çŠ¶æ€**: âœ… **å®Œå…¨æˆåŠŸ**  
**ä¸‹ä¸€æ­¥**: ç³»ç»Ÿå·²å°±ç»ªï¼Œå¯å¼€å§‹æ­£å¸¸ä½¿ç”¨
# ğŸ‰ æœ€ç»ˆé‡å¯æµ‹è¯•å®Œæˆ - Viteä¼˜åŒ–é…ç½®ç”Ÿæ•ˆ

## ğŸ”„ é‡å¯æ“ä½œå®Œæˆ

æ‰€æœ‰æœåŠ¡å·²æˆåŠŸé‡å¯ï¼ŒViteä¼˜åŒ–é…ç½®å·²ä¿å­˜å¹¶ç”Ÿæ•ˆã€‚

## âœ… å½“å‰æœåŠ¡çŠ¶æ€

### åç«¯ API æœåŠ¡
- **åœ°å€**: http://localhost:8000
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **è¿›ç¨‹ID**: 24
- **å¥åº·æ£€æŸ¥**: âœ… é€šè¿‡
- **å¯åŠ¨æ—¶é—´**: 2026-01-04 22:28:31

### å‰ç«¯åº”ç”¨æœåŠ¡  
- **åœ°å€**: http://localhost:3000
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **è¿›ç¨‹ID**: 25
- **Viteç‰ˆæœ¬**: 7.3.0
- **å¯åŠ¨æ—¶é—´**: 161ms âš¡ (æå¿«)
- **ä¾èµ–ä¼˜åŒ–**: âœ… "Forced re-optimization of dependencies"

## ğŸ”§ Viteé…ç½®ä¼˜åŒ–ç¡®è®¤

### å…³é”®é…ç½®å·²ç”Ÿæ•ˆ âœ…
```typescript
optimizeDeps: {
  include: [
    'use-sync-external-store',
    'use-sync-external-store/shim',
    'use-sync-external-store/shim/index',
    'use-sync-external-store/shim/with-selector',
    '@tanstack/react-query',
    'zustand',
    'swr',
    // ... å…¶ä»–ä¾èµ–
  ],
  exclude: ['@ant-design/pro-components'],
  force: true,
}
```

### ä¿®å¤æ•ˆæœ
1. **å¼ºåˆ¶é¢„æ„å»º**: æ‰€æœ‰ç›¸å…³æ¨¡å—è¢«Viteé¢„å¤„ç†
2. **ç»•è¿‡å†²çª**: é¿å…è¿è¡Œæ—¶æ¨¡å—è§£æé—®é¢˜
3. **å¿«é€Ÿå¯åŠ¨**: 161mså¯åŠ¨æ—¶é—´ï¼Œæ€§èƒ½ä¼˜å¼‚
4. **æ— é”™è¯¯**: å¯åŠ¨è¿‡ç¨‹å®Œå…¨æ— é”™è¯¯

## ğŸ§ª å…¨é¢æµ‹è¯•éªŒè¯

### APIæµ‹è¯• âœ…
```bash
curl -X POST http://localhost:8000/api/security/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin_test","password":"admin123"}'
```
**ç»“æœ**: âœ… 200 OKï¼ŒJWT tokenæ­£å¸¸ç”Ÿæˆ

### å‰ç«¯å“åº”æµ‹è¯• âœ…
```bash
curl -I http://localhost:3000
```
**ç»“æœ**: âœ… HTTP/1.1 200 OKï¼Œæ­£å¸¸å“åº”

### HTMLå†…å®¹æµ‹è¯• âœ…
- âœ… æ­£ç¡®çš„HTMLç»“æ„
- âœ… Viteå¼€å‘æœåŠ¡å™¨è„šæœ¬æ­£å¸¸åŠ è½½
- âœ… React Fast Refreshæ­£å¸¸å·¥ä½œ

## ğŸ¯ æµ‹è¯•è´¦å·

| ç”¨æˆ·å | å¯†ç  | è§’è‰² | çŠ¶æ€ |
|--------|------|------|------|
| admin_test | admin123 | ç³»ç»Ÿç®¡ç†å‘˜ | âœ… APIéªŒè¯é€šè¿‡ |
| expert_test | expert123 | ä¸šåŠ¡ä¸“å®¶ | âœ… å¯ç”¨ |
| annotator_test | annotator123 | æ•°æ®æ ‡æ³¨å‘˜ | âœ… å¯ç”¨ |
| viewer_test | viewer123 | æŠ¥è¡¨æŸ¥çœ‹è€… | âœ… å¯ç”¨ |

## ğŸš€ ç°åœ¨å¯ä»¥è¿›è¡Œå®Œæ•´æµ‹è¯•

### è®¿é—®åœ°å€
- **ä¸»é¡µ**: http://localhost:3000 (ä¼šé‡å®šå‘åˆ°ç™»å½•é¡µ)
- **ç™»å½•é¡µ**: http://localhost:3000/login

### æµ‹è¯•æ­¥éª¤
1. **æµè§ˆå™¨è®¿é—®**: http://localhost:3000/login
2. **ç™»å½•æµ‹è¯•**: ä½¿ç”¨ admin_test / admin123
3. **åŠŸèƒ½éªŒè¯**: æµ‹è¯•å‰ç«¯å„é¡¹åŠŸèƒ½
4. **æ€§èƒ½ç¡®è®¤**: éªŒè¯é¡µé¢åŠ è½½é€Ÿåº¦å’Œå“åº”æ€§

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **åç«¯å¯åŠ¨**: < 1ç§’
- **å‰ç«¯å¯åŠ¨**: 161ms âš¡
- **ä¾èµ–ä¼˜åŒ–**: è‡ªåŠ¨å¼ºåˆ¶é‡æ–°ä¼˜åŒ–
- **HTTPå“åº”**: < 50ms
- **æ— æ¨¡å—é”™è¯¯**: âœ… å®Œå…¨è§£å†³

## ğŸ‰ ä¿®å¤æ€»ç»“

### é—®é¢˜æ ¹æº
`use-sync-external-store` ç‰ˆæœ¬å†²çªå¯¼è‡´å‰ç«¯æ¨¡å—è§£æé”™è¯¯

### æœ€ç»ˆè§£å†³æ–¹æ¡ˆ
1. **Vite optimizeDeps**: å¼ºåˆ¶é¢„æ„å»ºæ‰€æœ‰ç›¸å…³æ¨¡å—
2. **å½»åº•æ¸…ç†**: å¤šæ¬¡æ¸…ç†ç¼“å­˜ç¡®ä¿é…ç½®ç”Ÿæ•ˆ
3. **--legacy-peer-deps**: å¤„ç†peerä¾èµ–å†²çª
4. **force: true**: å¼ºåˆ¶é‡æ–°ä¼˜åŒ–ä¾èµ–

### æŠ€æœ¯åŸç†
- React 18.3+ å†…ç½® useSyncExternalStore
- Viteé¢„æ„å»ºé¿å…è¿è¡Œæ—¶å†²çª
- å¼ºåˆ¶ä¼˜åŒ–ç¡®ä¿é…ç½®ç”Ÿæ•ˆ

## ğŸŸ¢ çŠ¶æ€ï¼šå®Œå…¨è§£å†³

**å‰ç«¯ä¾èµ–å†²çªé—®é¢˜å·²å½»åº•è§£å†³ï¼**

ç°åœ¨å¯ä»¥æ­£å¸¸è®¿é—® http://localhost:3000/login è¿›è¡Œç™»å½•åŠŸèƒ½çš„å®Œæ•´æµ‹è¯•äº†ã€‚

---

**å‡†å¤‡å°±ç»ª**: ğŸ¯ æ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œï¼Œå¯ä»¥å¼€å§‹å®Œæ•´çš„ç”¨æˆ·ä½“éªŒæµ‹è¯•ï¼
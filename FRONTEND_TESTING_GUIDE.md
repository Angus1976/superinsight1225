# SuperInsight 前端功能测试指南

## 概述

本指南提供了完整的前端功能测试步骤，涵盖所有主要功能模块和用户交互场景。

## 测试环境准备

### 前置条件

1. 后端服务运行在 http://localhost:8000
2. 前端应用运行在 http://localhost:5173
3. 数据库已初始化，测试账户已创建
4. 浏览器: Chrome/Firefox/Safari 最新版本

### 浏览器开发者工具

打开浏览器开发者工具 (F12) 并检查:
- Console 标签: 查看 JavaScript 错误
- Network 标签: 查看 API 请求和响应
- Application 标签: 查看本地存储和 Cookie

## 第一部分: 登录和认证

### 测试 1.1: 访问登录页面

**步骤:**
1. 打开浏览器
2. 访问 http://localhost:5173
3. 应自动重定向到登录页面

**验证:**
- [ ] 页面加载成功
- [ ] 显示登录表单
- [ ] 显示用户名和密码输入框
- [ ] 显示"登录"按钮
- [ ] 显示"注册"链接
- [ ] 页面响应时间 < 2 秒

### 测试 1.2: 登录成功 - 管理员账户

**步骤:**
1. 在用户名字段输入: admin@superinsight.com
2. 在密码字段输入: Admin@123456
3. 点击"登录"按钮
4. 等待页面加载

**验证:**
- [ ] 登录请求成功 (Network 标签显示 200 状态码)
- [ ] 重定向到仪表板页面
- [ ] 显示欢迎消息
- [ ] 左侧菜单显示所有功能模块
- [ ] 用户信息显示在右上角
- [ ] 访问令牌保存在本地存储

### 测试 1.3: 登录失败 - 错误凭证

**步骤:**
1. 在用户名字段输入: invalid@example.com
2. 在密码字段输入: wrongpassword
3. 点击"登录"按钮

**验证:**
- [ ] 显示错误消息: "用户名或密码错误"
- [ ] 页面停留在登录页面
- [ ] 不显示仪表板内容
- [ ] 没有访问令牌保存

### 测试 1.4: 登录失败 - 空字段

**步骤:**
1. 不输入任何内容
2. 点击"登录"按钮

**验证:**
- [ ] 显示验证错误消息
- [ ] 用户名字段显示红色边框
- [ ] 密码字段显示红色边框
- [ ] 登录请求未发送

### 测试 1.5: 记住我功能

**步骤:**
1. 输入有效凭证
2. 勾选"记住我"复选框
3. 点击"登录"按钮
4. 关闭浏览器
5. 重新打开浏览器访问应用

**验证:**
- [ ] 自动登录，无需重新输入凭证
- [ ] 显示仪表板页面
- [ ] 用户信息正确显示

### 测试 1.6: 注册新账户

**步骤:**
1. 点击"注册"链接
2. 填写注册表单:
   - 用户名: testuser@example.com
   - 密码: TestPassword@123
   - 确认密码: TestPassword@123
   - 租户名称: Test Tenant
3. 点击"注册"按钮

**验证:**
- [ ] 注册成功消息显示
- [ ] 重定向到登录页面
- [ ] 可以使用新账户登录

## 第二部分: 仪表板

### 测试 2.1: 仪表板加载

**步骤:**
1. 以管理员身份登录
2. 等待仪表板加载

**验证:**
- [ ] 页面加载成功
- [ ] 显示系统概览统计
- [ ] 显示最近任务列表
- [ ] 显示计费信息
- [ ] 显示质量指标
- [ ] 所有图表正确加载
- [ ] 响应时间 < 3 秒

### 测试 2.2: 统计数据准确性

**步骤:**
1. 查看仪表板上的统计数据
2. 记录显示的数值
3. 访问 API 文档 (http://localhost:8000/docs)
4. 调用相应的 API 端点验证数据

**验证:**
- [ ] 仪表板数据与 API 返回数据一致
- [ ] 所有数值正确显示
- [ ] 没有数据不匹配

### 测试 2.3: 图表交互

**步骤:**
1. 在仪表板上找到图表
2. 尝试与图表交互 (悬停、点击、缩放等)

**验证:**
- [ ] 图表响应用户交互
- [ ] 显示数据提示信息
- [ ] 图表平滑渲染
- [ ] 没有性能问题

### 测试 2.4: 数据刷新

**步骤:**
1. 记录仪表板上的数值
2. 点击刷新按钮或按 F5 刷新页面
3. 等待数据重新加载

**验证:**
- [ ] 数据重新加载
- [ ] 显示最新数据
- [ ] 没有数据丢失

## 第三部分: 任务管理

### 测试 3.1: 查看任务列表

**步骤:**
1. 点击左侧菜单中的"任务"
2. 等待任务列表加载

**验证:**
- [ ] 任务列表显示
- [ ] 显示任务名称、状态、优先级
- [ ] 显示分页控件
- [ ] 响应时间 < 2 秒

### 测试 3.2: 创建新任务

**步骤:**
1. 点击"创建任务"按钮
2. 填写任务表单:
   - 任务名称: Test Task
   - 描述: This is a test task
   - 优先级: High
   - 截止日期: 选择未来日期
3. 点击"创建"按钮

**验证:**
- [ ] 任务创建成功
- [ ] 显示成功消息
- [ ] 新任务出现在列表中
- [ ] 任务信息正确保存

### 测试 3.3: 编辑任务

**步骤:**
1. 在任务列表中选择一个任务
2. 点击"编辑"按钮
3. 修改任务信息
4. 点击"保存"按钮

**验证:**
- [ ] 任务编辑成功
- [ ] 显示成功消息
- [ ] 列表中的任务信息已更新
- [ ] 修改内容正确保存

### 测试 3.4: 删除任务

**步骤:**
1. 在任务列表中选择一个任务
2. 点击"删除"按钮
3. 在确认对话框中点击"确认"

**验证:**
- [ ] 任务删除成功
- [ ] 显示成功消息
- [ ] 任务从列表中移除
- [ ] 数据库中任务已删除

### 测试 3.5: 任务搜索和过滤

**步骤:**
1. 在搜索框中输入任务名称
2. 按 Enter 或点击搜索按钮
3. 尝试使用过滤器 (状态、优先级等)

**验证:**
- [ ] 搜索结果正确显示
- [ ] 过滤器有效工作
- [ ] 搜索和过滤可以组合使用
- [ ] 响应时间 < 1 秒

### 测试 3.6: 任务详情页面

**步骤:**
1. 点击任务列表中的任务名称
2. 查看任务详情页面

**验证:**
- [ ] 详情页面加载成功
- [ ] 显示完整的任务信息
- [ ] 显示任务历史和评论
- [ ] 可以在详情页面编辑任务

## 第四部分: 计费管理

### 测试 4.1: 查看计费规则

**步骤:**
1. 点击左侧菜单中的"计费"
2. 选择"计费规则"标签

**验证:**
- [ ] 计费规则列表显示
- [ ] 显示规则名称、类型、费率
- [ ] 显示规则版本信息
- [ ] 响应时间 < 2 秒

### 测试 4.2: 创建计费规则

**步骤:**
1. 点击"创建规则"按钮
2. 填写规则表单:
   - 规则名称: Test Rule
   - 规则类型: Per Task
   - 费率: 10.00
3. 点击"创建"按钮

**验证:**
- [ ] 规则创建成功
- [ ] 显示成功消息
- [ ] 新规则出现在列表中
- [ ] 规则信息正确保存

### 测试 4.3: 查看账单

**步骤:**
1. 点击"账单"标签
2. 选择月份和年份

**验证:**
- [ ] 账单信息显示
- [ ] 显示总费用、项目成本、部门分摊
- [ ] 显示成本趋势图表
- [ ] 数据准确

### 测试 4.4: 导出报表

**步骤:**
1. 在计费页面点击"导出"按钮
2. 选择导出格式 (PDF/Excel)
3. 点击"导出"

**验证:**
- [ ] 文件下载成功
- [ ] 文件格式正确
- [ ] 文件包含完整数据
- [ ] 文件可以正常打开

### 测试 4.5: 工时统计

**步骤:**
1. 点击"工时统计"标签
2. 查看用户工时统计表格

**验证:**
- [ ] 工时统计表格显示
- [ ] 显示用户名、工时、成本
- [ ] 显示工时趋势图表
- [ ] 数据准确

## 第五部分: 质量管理

### 测试 5.1: 查看质量评估

**步骤:**
1. 点击左侧菜单中的"质量"
2. 查看质量评估信息

**验证:**
- [ ] 质量评估数据显示
- [ ] 显示评估指标和得分
- [ ] 显示质量趋势
- [ ] 响应时间 < 2 秒

### 测试 5.2: 创建质量工单

**步骤:**
1. 点击"创建工单"按钮
2. 填写工单表单:
   - 标题: Quality Issue
   - 描述: Description
   - 严重程度: High
3. 点击"创建"按钮

**验证:**
- [ ] 工单创建成功
- [ ] 显示成功消息
- [ ] 工单出现在列表中
- [ ] 工单信息正确保存

### 测试 5.3: 工单流程

**步骤:**
1. 选择一个工单
2. 更新工单状态 (进行中 -> 已解决)
3. 添加评论
4. 点击"保存"

**验证:**
- [ ] 工单状态更新成功
- [ ] 评论保存成功
- [ ] 工单历史记录更新
- [ ] 通知发送给相关人员

### 测试 5.4: 质量报表

**步骤:**
1. 点击"质量报表"标签
2. 查看报表数据

**验证:**
- [ ] 报表数据显示
- [ ] 显示质量指标和趋势
- [ ] 图表正确渲染
- [ ] 可以导出报表

## 第六部分: 安全设置

### 测试 6.1: 查看用户权限

**步骤:**
1. 点击左侧菜单中的"安全"
2. 选择"权限管理"标签

**验证:**
- [ ] 权限列表显示
- [ ] 显示用户、角色、权限
- [ ] 权限信息准确
- [ ] 响应时间 < 2 秒

### 测试 6.2: 修改用户权限

**步骤:**
1. 选择一个用户
2. 修改其权限
3. 点击"保存"

**验证:**
- [ ] 权限修改成功
- [ ] 显示成功消息
- [ ] 权限立即生效
- [ ] 审计日志记录修改

### 测试 6.3: 查看审计日志

**步骤:**
1. 选择"审计日志"标签
2. 查看日志列表

**验证:**
- [ ] 审计日志显示
- [ ] 显示用户、操作、时间、IP
- [ ] 日志完整准确
- [ ] 可以搜索和过滤日志

### 测试 6.4: 配置 IP 白名单

**步骤:**
1. 选择"IP 白名单"标签
2. 点击"添加"按钮
3. 输入 IP 地址
4. 点击"保存"

**验证:**
- [ ] IP 白名单添加成功
- [ ] 显示成功消息
- [ ] IP 出现在列表中
- [ ] 白名单生效

### 测试 6.5: 配置数据脱敏

**步骤:**
1. 选择"数据脱敏"标签
2. 点击"添加规则"按钮
3. 配置脱敏规则
4. 点击"保存"

**验证:**
- [ ] 脱敏规则添加成功
- [ ] 显示成功消息
- [ ] 规则出现在列表中
- [ ] 脱敏规则生效

## 第七部分: 数据增强

### 测试 7.1: 查看增强规则

**步骤:**
1. 点击左侧菜单中的"数据增强"
2. 查看增强规则列表

**验证:**
- [ ] 规则列表显示
- [ ] 显示规则名称、类型、状态
- [ ] 响应时间 < 2 秒

### 测试 7.2: 创建增强任务

**步骤:**
1. 点击"创建任务"按钮
2. 选择增强规则
3. 选择数据源
4. 点击"创建"

**验证:**
- [ ] 任务创建成功
- [ ] 显示成功消息
- [ ] 任务开始执行
- [ ] 显示进度信息

### 测试 7.3: 查看增强结果

**步骤:**
1. 选择一个已完成的增强任务
2. 查看增强结果

**验证:**
- [ ] 结果显示
- [ ] 显示原始数据和增强数据
- [ ] 显示增强效果指标
- [ ] 可以下载结果

## 第八部分: 管理员面板

### 测试 8.1: 系统监控

**步骤:**
1. 点击左侧菜单中的"管理"
2. 选择"系统监控"标签

**验证:**
- [ ] 监控数据显示
- [ ] 显示 CPU、内存、磁盘使用率
- [ ] 显示系统健康状态
- [ ] 数据实时更新

### 测试 8.2: 用户管理

**步骤:**
1. 选择"用户管理"标签
2. 查看用户列表

**验证:**
- [ ] 用户列表显示
- [ ] 显示用户信息和状态
- [ ] 可以创建、编辑、删除用户
- [ ] 权限控制正确

### 测试 8.3: 租户管理

**步骤:**
1. 选择"租户管理"标签
2. 查看租户列表

**验证:**
- [ ] 租户列表显示
- [ ] 显示租户信息
- [ ] 可以管理租户
- [ ] 多租户隔离正确

### 测试 8.4: 系统配置

**步骤:**
1. 选择"系统配置"标签
2. 修改配置参数

**验证:**
- [ ] 配置显示
- [ ] 可以修改配置
- [ ] 修改立即生效
- [ ] 配置持久化保存

## 第九部分: 设置

### 测试 9.1: 个人信息

**步骤:**
1. 点击右上角用户菜单
2. 选择"设置"
3. 修改个人信息

**验证:**
- [ ] 个人信息显示
- [ ] 可以修改信息
- [ ] 修改保存成功
- [ ] 显示成功消息

### 测试 9.2: 修改密码

**步骤:**
1. 在设置页面选择"修改密码"
2. 输入旧密码和新密码
3. 点击"保存"

**验证:**
- [ ] 密码修改成功
- [ ] 显示成功消息
- [ ] 可以使用新密码登录
- [ ] 旧密码无法登录

### 测试 9.3: 语言切换

**步骤:**
1. 在设置页面选择"语言"
2. 从中文切换到英文
3. 观察界面变化

**验证:**
- [ ] 语言切换立即生效
- [ ] 所有文本切换为英文
- [ ] 布局不变
- [ ] 功能不受影响

### 测试 9.4: 主题切换

**步骤:**
1. 在设置页面选择"主题"
2. 从浅色切换到深色
3. 观察界面变化

**验证:**
- [ ] 主题切换立即生效
- [ ] 所有颜色正确更新
- [ ] 文本可读性良好
- [ ] 功能不受影响

### 测试 9.5: 通知设置

**步骤:**
1. 在设置页面选择"通知"
2. 配置通知偏好
3. 点击"保存"

**验证:**
- [ ] 通知设置保存成功
- [ ] 通知按配置发送
- [ ] 可以禁用特定通知

## 第十部分: 国际化测试

### 测试 10.1: 中文界面完整性

**步骤:**
1. 以中文账户登录
2. 浏览所有页面

**验证:**
- [ ] 所有菜单项显示中文
- [ ] 所有按钮标签显示中文
- [ ] 所有错误消息显示中文
- [ ] 所有提示信息显示中文
- [ ] 日期格式为中文格式
- [ ] 数字格式为中文格式
- [ ] 没有英文混杂

### 测试 10.2: 英文界面完整性

**步骤:**
1. 以英文账户登录
2. 浏览所有页面

**验证:**
- [ ] 所有菜单项显示英文
- [ ] 所有按钮标签显示英文
- [ ] 所有错误消息显示英文
- [ ] 所有提示信息显示英文
- [ ] 日期格式为英文格式
- [ ] 数字格式为英文格式
- [ ] 没有中文混杂

### 测试 10.3: 动态语言切换

**步骤:**
1. 登录应用
2. 在设置中切换语言
3. 返回各个页面

**验证:**
- [ ] 语言切换立即生效
- [ ] 所有页面文本更新
- [ ] 没有页面需要刷新
- [ ] 用户状态保持

## 第十一部分: 性能测试

### 测试 11.1: 页面加载时间

**步骤:**
1. 打开浏览器开发者工具 (F12)
2. 进入 Network 标签
3. 访问各个页面
4. 记录加载时间

**验证:**
- [ ] 登录页面: < 1 秒
- [ ] 仪表板: < 3 秒
- [ ] 任务列表: < 2 秒
- [ ] 其他页面: < 2 秒

### 测试 11.2: API 响应时间

**步骤:**
1. 打开浏览器开发者工具
2. 进入 Network 标签
3. 执行各种操作
4. 记录 API 响应时间

**验证:**
- [ ] 登录 API: < 500ms
- [ ] 列表查询: < 1000ms
- [ ] 创建操作: < 1000ms
- [ ] 更新操作: < 1000ms

### 测试 11.3: 内存使用

**步骤:**
1. 打开浏览器开发者工具
2. 进入 Performance 标签
3. 记录内存使用情况
4. 执行长时间操作

**验证:**
- [ ] 初始内存使用 < 50MB
- [ ] 长时间使用无内存泄漏
- [ ] 页面切换后内存释放

## 第十二部分: 错误处理和边界情况

### 测试 12.1: 网络错误处理

**步骤:**
1. 断开网络连接
2. 尝试执行操作
3. 恢复网络连接

**验证:**
- [ ] 显示网络错误消息
- [ ] 提供重试选项
- [ ] 网络恢复后自动重试
- [ ] 数据一致性保持

### 测试 12.2: 会话超时

**步骤:**
1. 登录应用
2. 等待会话超时 (通常 30 分钟)
3. 尝试执行操作

**验证:**
- [ ] 显示会话过期消息
- [ ] 重定向到登录页面
- [ ] 可以重新登录

### 测试 12.3: 权限不足

**步骤:**
1. 以普通用户身份登录
2. 尝试访问管理员功能

**验证:**
- [ ] 显示权限不足消息
- [ ] 不显示受限功能
- [ ] 重定向到允许的页面

### 测试 12.4: 数据验证

**步骤:**
1. 尝试提交无效数据
2. 尝试提交超长数据
3. 尝试提交特殊字符

**验证:**
- [ ] 显示验证错误消息
- [ ] 数据未保存
- [ ] 用户可以更正数据

## 测试报告模板

```
测试日期: ____________________
测试人员: ____________________
测试环境: ____________________

总测试数: ____
通过: ____
失败: ____
跳过: ____

成功率: _____%

失败项目:
1. ____________________
2. ____________________

备注:
____________________
____________________
```

## 总结

完成以上所有测试后，前端应用应该:

- ✅ 所有功能正常工作
- ✅ 所有页面正确显示
- ✅ 所有 API 集成正确
- ✅ 国际化支持完整
- ✅ 性能满足要求
- ✅ 错误处理完善
- ✅ 用户体验良好

---

**最后更新**: 2024年1月
**版本**: 1.0

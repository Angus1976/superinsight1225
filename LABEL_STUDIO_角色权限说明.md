# Label Studio 标注引擎 - 角色权限说明

## 📋 概述

Label Studio 是 SuperInsight 平台集成的专业数据标注引擎，用于执行各类数据标注任务。不同角色的用户对 Label Studio 有不同的访问权限和使用场景。

## 👥 角色权限矩阵

| 角色 | 账号 | 密码 | Label Studio 访问权限 | 主要功能 |
|------|------|------|---------------------|---------|
| **系统管理员** (ADMIN) | admin_test | admin123 | ✅ 完全访问 | 创建项目、配置标注模板、管理用户、查看所有数据 |
| **业务专家** (BUSINESS_EXPERT) | expert_test | expert123 | ✅ 高级访问 | 创建任务、审核标注、质量控制、数据分析 |
| **数据标注员** (ANNOTATOR) | annotator_test | annotator123 | ✅ 标注访问 | 执行标注任务、提交标注结果 |
| **报表查看者** (VIEWER) | viewer_test | viewer123 | ❌ 只读访问 | 查看标注结果和统计报表（不能标注） |

## 🎯 各角色详细说明

### 1. 系统管理员 (ADMIN) - admin_test

**Label Studio 权限**：完全控制权限

**可以做什么**：
- ✅ 创建和管理 Label Studio 项目
- ✅ 配置标注模板和标签体系
- ✅ 分配标注任务给标注员
- ✅ 管理所有用户的标注权限
- ✅ 查看和导出所有标注数据
- ✅ 配置 AI 预标注模型
- ✅ 设置质量控制规则
- ✅ 访问系统级配置和监控

**使用场景**：
- 初始化新的标注项目
- 设计标注界面和工作流
- 管理团队成员和权限
- 监控整体标注进度和质量

**访问路径**：
```
登录 → Dashboard → 任务管理 → 任务详情 → "Open in Label Studio" 按钮
```

---

### 2. 业务专家 (BUSINESS_EXPERT) - expert_test

**Label Studio 权限**：高级访问权限（创建、审核、分析）

**可以做什么**：
- ✅ 创建标注任务
- ✅ 审核标注员提交的标注结果
- ✅ 执行质量控制和一致性检查
- ✅ 查看标注统计和分析报表
- ✅ 导出标注数据用于分析
- ✅ 修改和完善标注结果
- ⚠️ 不能修改项目级配置（需要管理员权限）

**使用场景**：
- 创建业务相关的标注任务
- 审核标注质量
- 分析标注数据趋势
- 提供标注指导和反馈

**访问路径**：
```
登录 → Dashboard → 任务管理 → 创建任务 → 配置 Label Studio 项目
登录 → 质量管理 → 审核标注结果
```

---

### 3. 数据标注员 (ANNOTATOR) - annotator_test ⭐

**Label Studio 权限**：标注执行权限（这是主要使用 Label Studio 的角色）

**可以做什么**：
- ✅ 查看分配给自己的标注任务
- ✅ 执行数据标注（文本分类、NER、情感分析等）
- ✅ 提交标注结果
- ✅ 查看自己的标注历史和统计
- ✅ 使用 AI 预标注辅助功能
- ⚠️ 只能访问分配给自己的任务
- ❌ 不能创建或删除任务
- ❌ 不能修改标注模板

**使用场景**：
- 日常标注工作
- 批量数据标注
- 使用 AI 辅助快速标注
- 跟踪个人标注进度

**访问路径**：
```
登录 → Dashboard → 我的任务 → 选择任务 → "开始标注" → Label Studio 界面
```

**Label Studio 标注界面功能**：
- 标注工具栏（文本高亮、实体标注、分类选择等）
- AI 预标注建议
- 快捷键支持
- 标注历史记录
- 提交和跳过按钮

---

### 4. 报表查看者 (VIEWER) - viewer_test

**Label Studio 权限**：只读访问（不能标注）

**可以做什么**：
- ✅ 查看标注结果和统计数据
- ✅ 查看标注进度报表
- ✅ 导出标注数据（只读格式）
- ❌ 不能执行标注操作
- ❌ 不能修改任何数据
- ❌ 不能访问 Label Studio 标注界面

**使用场景**：
- 查看项目进度
- 生成业务报表
- 数据质量监控
- 向管理层汇报

**访问路径**：
```
登录 → Dashboard → 查看统计数据
登录 → 报表中心 → 标注进度报表
```

---

## 🚀 如何体验 Label Studio

### 推荐体验路径

#### 1. 作为标注员体验（最常用）⭐

```bash
# 1. 使用标注员账号登录
账号: annotator_test
密码: annotator123

# 2. 访问路径
http://localhost:3000/login
→ 登录后进入 Dashboard
→ 点击"任务管理"或"我的任务"
→ 选择一个标注任务
→ 点击"开始标注"按钮
→ 进入 Label Studio 标注界面
```

**标注界面功能**：
- 文本分类标注
- 命名实体识别（NER）
- 情感分析标注
- 问答对标注
- 自定义标注类型

#### 2. 作为管理员体验（完整功能）

```bash
# 1. 使用管理员账号登录
账号: admin_test
密码: admin123

# 2. 创建标注项目
→ Dashboard → 任务管理 → 创建新任务
→ 配置标注类型和模板
→ 上传待标注数据
→ 分配给标注员
→ 在任务详情页点击"Open in Label Studio"
```

#### 3. 作为业务专家体验（审核和分析）

```bash
# 1. 使用业务专家账号登录
账号: expert_test
密码: expert123

# 2. 审核标注结果
→ Dashboard → 质量管理
→ 查看待审核的标注
→ 在 Label Studio 中审核和修改
→ 批准或退回标注结果
```

---

## 📊 Label Studio 集成架构

```
┌─────────────────────────────────────────────────────────┐
│                  SuperInsight 前端                       │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐             │
│  │ 任务管理 │  │ 质量控制 │  │ 数据分析 │             │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘             │
│       │             │             │                     │
│       └─────────────┴─────────────┘                     │
│                     │                                   │
│              ┌──────▼──────┐                           │
│              │ Label Studio│                           │
│              │   iframe    │                           │
│              └──────┬──────┘                           │
└─────────────────────┼─────────────────────────────────┘
                      │
                      │ PostMessage API
                      │
┌─────────────────────▼─────────────────────────────────┐
│              Label Studio 后端服务                      │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐           │
│  │ 标注引擎 │  │ 数据存储 │  │ AI 预标注│           │
│  └──────────┘  └──────────┘  └──────────┘           │
└───────────────────────────────────────────────────────┘
```

---

## 🔧 当前实现状态

### ✅ 已实现
- 用户认证和角色管理
- 任务管理界面
- Label Studio 组件封装
- iframe 集成准备

### 🚧 待实现（需要后端支持）
- Label Studio 实际服务部署
- 标注任务 API 端点
- 标注数据存储
- AI 预标注集成

---

## 💡 快速测试建议

### 方案 1：使用模拟数据（当前可用）

```bash
# 1. 登录任意账号
http://localhost:3000/login

# 2. 查看任务列表
→ Dashboard → 任务管理

# 3. 查看任务详情
→ 点击任意任务 → 查看 Label Studio 集成提示
```

### 方案 2：完整 Label Studio 体验（需要部署）

```bash
# 1. 部署 Label Studio 服务
docker run -p 8080:8080 heartexlabs/label-studio:latest

# 2. 配置后端集成
# 在 simple_app.py 中添加 Label Studio API 端点

# 3. 使用标注员账号测试完整流程
账号: annotator_test
密码: annotator123
```

---

## 📝 总结

### 最适合体验 Label Studio 的账号

1. **annotator_test** ⭐⭐⭐ （推荐）
   - 这是最常用的角色
   - 可以体验完整的标注流程
   - 适合了解日常标注工作

2. **admin_test** ⭐⭐
   - 可以体验管理功能
   - 适合了解系统配置
   - 可以创建和管理项目

3. **expert_test** ⭐⭐
   - 可以体验审核功能
   - 适合了解质量控制
   - 可以分析标注数据

4. **viewer_test** ⭐
   - 只能查看报表
   - 不能进行标注操作
   - 适合管理层查看进度

### 当前系统状态

- ✅ 前端界面完整
- ✅ 角色权限配置完成
- ✅ Label Studio 组件已封装
- 🚧 需要部署 Label Studio 后端服务才能完整体验

### 下一步

如果需要完整体验 Label Studio 标注功能，需要：
1. 部署 Label Studio 服务
2. 配置后端 API 集成
3. 创建实际的标注任务
4. 上传待标注数据

目前可以在前端界面中看到 Label Studio 的集成准备和界面设计。

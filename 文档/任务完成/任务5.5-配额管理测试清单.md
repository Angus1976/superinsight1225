# Task 5.5: Quota Management Page Translation Test Checklist

**Task**: Test Quota Management page translations (Est: 0.1h)  
**Date**: 2026-01-19  
**Requirements**: 6.2 (All translations display correctly), 6.3 (Browser console clean)

## Test Environment Setup

### Prerequisites
1. ✅ Frontend development server running (`npm run dev` in frontend directory)
2. ✅ Backend API server running
3. ✅ Admin user credentials available
4. ✅ Browser language set to Chinese (zh-CN)

### Access
- **URL**: http://localhost:5173/admin/quotas
- **Login**: Use admin credentials
- **Page Component**: `frontend/src/pages/Admin/QuotaManagement.tsx`
- **Translation File**: `frontend/src/locales/zh/admin.json` (quotaManagement section)

## Translation Test Checklist

### 1. Page Title and Header
- [ ] **Page Title**: "配额管理" (quotaManagement.title)
  - Location: Card header title
  - Expected: 配额管理

### 2. Statistics Cards (Top Row)
Test all 4 statistic cards display correct Chinese labels:

- [ ] **Total Storage**: "总存储使用" (quotaManagement.statistics.totalStorage)
  - Icon: CloudOutlined
  - Expected: 总存储使用

- [ ] **Total Projects**: "总项目数" (quotaManagement.statistics.totalProjects)
  - Icon: DatabaseOutlined
  - Expected: 总项目数

- [ ] **Total Users**: "总用户数" (quotaManagement.statistics.totalUsers)
  - Icon: TeamOutlined
  - Expected: 总用户数

- [ ] **Total API Calls**: "总 API 调用" (quotaManagement.statistics.totalApiCalls)
  - Icon: ApiOutlined
  - Expected: 总 API 调用

### 3. Table Column Headers
Test all 7 table column headers:

- [ ] **Tenant**: "租户" (quotaManagement.columns.tenant)
- [ ] **Storage**: "存储" (quotaManagement.columns.storage)
- [ ] **Projects**: "项目数" (quotaManagement.columns.projects)
- [ ] **Users**: "用户数" (quotaManagement.columns.users)
- [ ] **API Calls**: "API 调用" (quotaManagement.columns.apiCalls)
- [ ] **Status**: "状态" (quotaManagement.columns.status)
- [ ] **Actions**: "操作" (quotaManagement.columns.actions)

### 4. Status Tags
Test status indicators in the Status column:

- [ ] **Normal**: "正常" (quotaManagement.statusTags.normal)
  - Color: Green (success)
  - Condition: Usage < 70%

- [ ] **Approaching Limit**: "接近上限" (quotaManagement.statusTags.approachingLimit)
  - Color: Orange (warning)
  - Condition: 70% ≤ Usage < 90%

- [ ] **Quota Tight**: "配额紧张" (quotaManagement.statusTags.quotaTight)
  - Color: Red (error)
  - Icon: WarningOutlined
  - Condition: Usage ≥ 90%

- [ ] **Not Configured**: "未配置" (quotaManagement.status.notConfigured)
  - Condition: No quota set

### 5. Buttons
- [ ] **Refresh Button**: "刷新" (quotaManagement.buttons.refresh)
  - Location: Card header extra area
  - Icon: ReloadOutlined

- [ ] **Adjust Quota Button**: "调整配额" (quotaManagement.actions.adjustQuota)
  - Location: Actions column in table
  - Icon: EditOutlined
  - Type: Link button

### 6. Alert Message (If Applicable)
- [ ] **Quota Warning Alert**: "{{count}} 个租户配额使用超过 80%" (quotaManagement.alert.quotaWarning)
  - Condition: When any tenant usage > 80%
  - Type: Warning alert
  - Shows tenant names as tags

### 7. Pagination
- [ ] **Pagination Total**: "共 {{total}} 个租户" (quotaManagement.pagination.total)
  - Location: Bottom of table
  - Format: 共 X 个租户

### 8. Modal Form (Adjust Quota)
Click "调整配额" button to open modal and test:

- [ ] **Modal Title**: "调整配额 - {{name}}" (quotaManagement.modal.adjustQuota)
  - Shows tenant name

- [ ] **Storage Quota Label**: "存储配额 (GB)" (quotaManagement.form.storageQuota)
  - Input type: Number
  - Min: 1, Max: 10000

- [ ] **Project Quota Label**: "项目配额" (quotaManagement.form.projectQuota)
  - Input type: Number
  - Min: 1, Max: 10000

- [ ] **User Quota Label**: "用户配额" (quotaManagement.form.userQuota)
  - Input type: Number
  - Min: 1, Max: 10000

- [ ] **API Quota Label**: "API 调用配额" (quotaManagement.form.apiQuota)
  - Input type: Number
  - Min: 1000, Max: 100000000

- [ ] **Required Field Messages**: All form fields show Chinese error messages
  - Storage: "请输入存储配额" (quotaManagement.form.storageQuotaRequired)
  - Project: "请输入项目数上限" (quotaManagement.form.projectQuotaRequired)
  - User: "请输入用户数上限" (quotaManagement.form.userQuotaRequired)
  - API: "请输入 API 调用上限" (quotaManagement.form.apiQuotaRequired)

### 9. Success/Error Messages
Test by submitting the form:

- [ ] **Update Success**: "配额更新成功" (quotaManagement.updateSuccess)
  - Type: Success message
  - Trigger: Successful quota update

- [ ] **Update Failed**: "配额更新失败" (quotaManagement.updateFailed)
  - Type: Error message
  - Trigger: Failed quota update

## Browser Console Check (Requirement 6.3)

### Console Warnings
Open browser DevTools (F12) and check Console tab:

- [ ] **No i18n warnings**: No messages like "Missing translation key"
- [ ] **No translation errors**: No errors related to i18n or react-i18next
- [ ] **No missing key warnings**: No warnings about undefined translation keys

### Common Issues to Check
- [ ] No "Translation key not found" messages
- [ ] No "Missing translation for key: quotaManagement.*" warnings
- [ ] No React errors related to translation rendering
- [ ] No undefined or null translation values displayed

## Data Display Tests

### Progress Bars
- [ ] Storage progress bar shows percentage correctly
- [ ] Projects progress bar shows percentage correctly
- [ ] Users progress bar shows percentage correctly
- [ ] API calls progress bar shows percentage correctly
- [ ] Progress bar colors match status (green < 70%, orange 70-90%, red ≥ 90%)

### Data Formatting
- [ ] Storage displays in GB/MB/KB format (e.g., "1.5 GB")
- [ ] API calls display with thousand separators (e.g., "1,000,000")
- [ ] Percentages display correctly in progress bars
- [ ] Tenant plan names display correctly

## Test Results Summary

### Statistics
- **Total Tests**: 40+
- **Passed**: ___
- **Failed**: ___
- **Warnings**: ___

### Critical Issues Found
List any critical translation issues:
1. 
2. 
3. 

### Minor Issues Found
List any minor issues:
1. 
2. 
3. 

### Console Warnings/Errors
List any console warnings or errors:
1. 
2. 
3. 

## Validation Criteria

### ✅ Pass Criteria
- [ ] All page elements display Chinese translations
- [ ] No English text visible (except technical terms like "API")
- [ ] No translation keys visible (e.g., "quotaManagement.title")
- [ ] No i18n warnings in browser console
- [ ] No console errors related to translations
- [ ] All form validation messages in Chinese
- [ ] All success/error messages in Chinese

### ❌ Fail Criteria
- Any translation key displayed instead of Chinese text
- Any i18n warnings in console
- Any missing translations
- Any English text where Chinese is expected

## Test Execution

### Manual Test Steps
1. Start frontend dev server: `npm run dev` in frontend directory
2. Start backend API server
3. Open browser to http://localhost:5173
4. Login with admin credentials
5. Navigate to /admin/quotas
6. Open browser DevTools (F12) and go to Console tab
7. Go through each checklist item above
8. Document any issues found
9. Take screenshots of any problems

### Automated Test
An automated Playwright test is available at:
- **File**: `frontend/e2e/quota-management-translations.spec.ts`
- **Run**: `npm run test:e2e -- quota-management-translations.spec.ts`

## Notes

### Translation File Reference
All translations are defined in `frontend/src/locales/zh/admin.json` under the `quotaManagement` key:

```json
{
  "quotaManagement": {
    "title": "配额管理",
    "statistics": { ... },
    "columns": { ... },
    "statusTags": { ... },
    "buttons": { ... },
    "form": { ... },
    "alert": { ... },
    "pagination": { ... },
    "modal": { ... }
  }
}
```

### Component Reference
The Quota Management page component:
- **Path**: `frontend/src/pages/Admin/QuotaManagement.tsx`
- **Uses**: `useTranslation('admin')` hook
- **Namespace**: 'admin'

### Related Tasks
- Task 5.1: Test System Monitoring page ✅
- Task 5.2: Test Console page ✅
- Task 5.3: Test Billing Management page ✅
- Task 5.4: Test Permission Config page ✅
- Task 5.5: Test Quota Management page ⏳ (Current)

## Sign-off

**Tester**: _______________  
**Date**: _______________  
**Result**: ⬜ PASS  ⬜ FAIL  ⬜ PASS WITH WARNINGS  

**Comments**:
_______________________________________________________________________________
_______________________________________________________________________________
_______________________________________________________________________________
